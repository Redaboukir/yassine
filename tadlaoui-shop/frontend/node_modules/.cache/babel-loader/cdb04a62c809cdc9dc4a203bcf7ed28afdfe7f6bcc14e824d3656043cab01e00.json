{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Redab\\\\Desktop\\\\TADLAOUI-SHOP\\\\tadlaoui-shop\\\\frontend\\\\src\\\\pages\\\\AdminDashboard.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [newProduct, setNewProduct] = useState({\n    name: \"\",\n    price: \"\",\n    description: \"\",\n    image: null\n  });\n  useEffect(() => {\n    fetch(\"http://localhost:5000/api/products\").then(res => res.json()).then(data => setProducts(data)).catch(err => console.error(\"Erreur :\", err));\n  }, []);\n  const handleChange = e => {\n    if (e.target.name === \"image\") {\n      setNewProduct({\n        ...newProduct,\n        image: e.target.files[0]\n      });\n    } else {\n      setNewProduct({\n        ...newProduct,\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", newProduct.name);\n    formData.append(\"price\", newProduct.price);\n    formData.append(\"description\", newProduct.description);\n    formData.append(\"image\", newProduct.image);\n    const res = await fetch(\"http://localhost:5000/api/products\", {\n      method: \"POST\",\n      body: formData\n    });\n    if (res.ok) {\n      const addedProduct = await res.json();\n      setProducts([...products, addedProduct]);\n      setNewProduct({\n        name: \"\",\n        price: \"\",\n        description: \"\",\n        image: null\n      });\n    } else {\n      console.error(\"Erreur lors de l'ajout du produit\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Dashboard Admin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Ajout de produit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Nom du produit\",\n        value: newProduct.name,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"price\",\n        placeholder: \"Prix\",\n        value: newProduct.price,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"description\",\n        placeholder: \"Description\",\n        value: newProduct.description,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"image\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Ajouter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Liste des produits\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), products.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Aucun produit disponible.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 32\n    }, this) : null, products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: product.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Prix : \", product.price, \"\\u20AC\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:5000${product.image}`,\n        alt: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, product._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"UXDdzN2d3DQaDsI3Lg+NgM7O3Gs=\");\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","AdminDashboard","_s","products","setProducts","newProduct","setNewProduct","name","price","description","image","fetch","then","res","json","data","catch","err","console","error","handleChange","e","target","files","value","handleSubmit","preventDefault","formData","FormData","append","method","body","ok","addedProduct","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required","length","map","product","src","alt","_id","_c","$RefreshReg$"],"sources":["C:/Users/Redab/Desktop/TADLAOUI-SHOP/tadlaoui-shop/frontend/src/pages/AdminDashboard.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nconst AdminDashboard = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [newProduct, setNewProduct] = useState({\r\n    name: \"\",\r\n    price: \"\",\r\n    description: \"\",\r\n    image: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/api/products\")\r\n      .then(res => res.json())\r\n      .then(data => setProducts(data))\r\n      .catch(err => console.error(\"Erreur :\", err));\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.name === \"image\") {\r\n      setNewProduct({ ...newProduct, image: e.target.files[0] });\r\n    } else {\r\n      setNewProduct({ ...newProduct, [e.target.name]: e.target.value });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"name\", newProduct.name);\r\n    formData.append(\"price\", newProduct.price);\r\n    formData.append(\"description\", newProduct.description);\r\n    formData.append(\"image\", newProduct.image);\r\n\r\n    const res = await fetch(\"http://localhost:5000/api/products\", {\r\n      method: \"POST\",\r\n      body: formData\r\n    });\r\n\r\n    if (res.ok) {\r\n      const addedProduct = await res.json();\r\n      setProducts([...products, addedProduct]);\r\n      setNewProduct({ name: \"\", price: \"\", description: \"\", image: null });\r\n    } else {\r\n      console.error(\"Erreur lors de l'ajout du produit\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Dashboard Admin</h2>\r\n\r\n      {/* Formulaire d'ajout de produit */}\r\n      <h3>Ajout de produit</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" name=\"name\" placeholder=\"Nom du produit\" value={newProduct.name} onChange={handleChange} required />\r\n        <input type=\"number\" name=\"price\" placeholder=\"Prix\" value={newProduct.price} onChange={handleChange} required />\r\n        <textarea name=\"description\" placeholder=\"Description\" value={newProduct.description} onChange={handleChange} required />\r\n        <input type=\"file\" name=\"image\" onChange={handleChange} required />\r\n        <button type=\"submit\">Ajouter</button>\r\n      </form>\r\n\r\n      {/* Liste des produits */}\r\n      <h3>Liste des produits</h3>\r\n      {products.length === 0 ? <p>Aucun produit disponible.</p> : null}\r\n      {products.map((product) => (\r\n        <div key={product._id}>\r\n          <h3>{product.name}</h3>\r\n          <p>{product.description}</p>\r\n          <p>Prix : {product.price}â‚¬</p>\r\n          <img src={`http://localhost:5000${product.image}`} alt={product.name} />\r\n\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}