{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Redab\\\\Desktop\\\\TADLAOUI-SHOP\\\\tadlaoui-shop\\\\frontend\\\\src\\\\pages\\\\AddProduct.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\nconst AddProduct = () => {\n  _s();\n  const navigate = useNavigate();\n  const [newProduct, setNewProduct] = useState({\n    name: \"\",\n    price: \"\",\n    description: \"\",\n    image: null\n  });\n  const handleChange = e => {\n    if (e.target.name === \"image\") {\n      setNewProduct({\n        ...newProduct,\n        image: e.target.files[0]\n      });\n    } else {\n      setNewProduct({\n        ...newProduct,\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", newProduct.name);\n    formData.append(\"price\", newProduct.price);\n    formData.append(\"description\", newProduct.description);\n    formData.append(\"image\", newProduct.image);\n    const res = await fetch(`${API_URL}/api/products`, {\n      method: \"POST\",\n      body: formData\n    });\n    if (res.ok) {\n      navigate(\"/admin/stocks\");\n    } else {\n      console.error(\"Erreur lors de l'ajout du produit\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u2795 Ajouter un produit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Nom du produit\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"price\",\n        placeholder: \"Prix\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"description\",\n        placeholder: \"Description\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"image\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Ajouter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(AddProduct, \"W0QqSsfAUUmbpYigJNyEElG/73o=\", false, function () {\n  return [useNavigate];\n});\n_c = AddProduct;\nexport default AddProduct;\nvar _c;\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"names":["useState","useNavigate","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","AddProduct","_s","navigate","newProduct","setNewProduct","name","price","description","image","handleChange","e","target","files","value","handleSubmit","preventDefault","formData","FormData","append","res","fetch","method","body","ok","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required","_c","$RefreshReg$"],"sources":["C:/Users/Redab/Desktop/TADLAOUI-SHOP/tadlaoui-shop/frontend/src/pages/AddProduct.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\r\n\r\nconst AddProduct = () => {\r\n  const navigate = useNavigate();\r\n  const [newProduct, setNewProduct] = useState({ name: \"\", price: \"\", description: \"\", image: null });\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.name === \"image\") {\r\n      setNewProduct({ ...newProduct, image: e.target.files[0] });\r\n    } else {\r\n      setNewProduct({ ...newProduct, [e.target.name]: e.target.value });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"name\", newProduct.name);\r\n    formData.append(\"price\", newProduct.price);\r\n    formData.append(\"description\", newProduct.description);\r\n    formData.append(\"image\", newProduct.image);\r\n\r\n    const res = await fetch(`${API_URL}/api/products`, {\r\n      method: \"POST\",\r\n      body: formData\r\n    });\r\n\r\n    if (res.ok) {\r\n      navigate(\"/admin/stocks\");\r\n    } else {\r\n      console.error(\"Erreur lors de l'ajout du produit\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>âž• Ajouter un produit</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input type=\"text\" name=\"name\" placeholder=\"Nom du produit\" onChange={handleChange} required />\r\n        <input type=\"number\" name=\"price\" placeholder=\"Prix\" onChange={handleChange} required />\r\n        <textarea name=\"description\" placeholder=\"Description\" onChange={handleChange} required />\r\n        <input type=\"file\" name=\"image\" onChange={handleChange} required />\r\n        <button type=\"submit\">Ajouter</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}