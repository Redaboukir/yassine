{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Redab\\\\Desktop\\\\TADLAOUI-SHOP\\\\tadlaoui-shop\\\\frontend\\\\src\\\\pages\\\\DeleteProduct.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DeleteProduct = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    fetch(\"http://localhost:5000/api/products\").then(res => res.json()).then(data => setProducts(data)).catch(err => console.error(\"Erreur :\", err));\n  }, []);\n  const handleDelete = async id => {\n    if (!id) {\n      console.error(\"‚ùå ID du produit manquant !\");\n      return;\n    }\n    const confirmDelete = window.confirm(\"Es-tu s√ªr de vouloir supprimer ce produit ?\");\n    if (!confirmDelete) return;\n    try {\n      console.log(\"üóëÔ∏è Suppression en cours de l'ID :\", id);\n      const res = await fetch(`http://localhost:5000/api/products/${id}`, {\n        method: \"DELETE\"\n      });\n      const data = await res.json();\n      console.log(\"R√©ponse du serveur :\", data);\n      if (res.ok) {\n        setProducts(products.filter(product => product._id !== id));\n      } else {\n        console.error(\"Erreur lors de la suppression :\", data);\n      }\n    } catch (err) {\n      console.error(\"Erreur serveur :\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u274C Supprimer un produit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), products.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Aucun produit disponible.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 32\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: products.map(product => {\n        const imagePath = `http://localhost:5000/uploads/${product.image}`;\n        console.log(\"Chemin de l'image :\", imagePath);\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: imagePath,\n            alt: product.name,\n            style: {\n              width: \"80px\",\n              height: \"80px\",\n              objectFit: \"cover\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), product.name, \" - \", product.price, \"\\u20AC\", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(product._id),\n            children: \"Supprimer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)]\n        }, product._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(DeleteProduct, \"f86L6rLANGURv6GE6gupp7+oOp4=\");\n_c = DeleteProduct;\nconst handleFavorite = async id => {\n  try {\n    const res = await fetch(`http://localhost:5000/api/products/${id}/favorite`, {\n      method: \"PUT\"\n    });\n    const data = await res.json();\n    if (res.ok) {\n      setProducts(products.map(p => p._id === id ? {\n        ...p,\n        isFavorite: !p.isFavorite\n      } : p));\n    } else {\n      console.error(\"Erreur favori :\", data);\n    }\n  } catch (err) {\n    console.error(\"Erreur serveur :\", err);\n  }\n};\nexport default DeleteProduct;\nvar _c;\n$RefreshReg$(_c, \"DeleteProduct\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","DeleteProduct","_s","products","setProducts","fetch","then","res","json","data","catch","err","console","error","handleDelete","id","confirmDelete","window","confirm","log","method","ok","filter","product","_id","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","imagePath","image","src","alt","name","style","width","height","objectFit","price","onClick","_c","handleFavorite","p","isFavorite","$RefreshReg$"],"sources":["C:/Users/Redab/Desktop/TADLAOUI-SHOP/tadlaoui-shop/frontend/src/pages/DeleteProduct.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nconst DeleteProduct = () => {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/api/products\")\r\n      .then(res => res.json())\r\n      .then(data => setProducts(data))\r\n      .catch(err => console.error(\"Erreur :\", err));\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!id) {\r\n      console.error(\"‚ùå ID du produit manquant !\");\r\n      return;\r\n    }\r\n  \r\n    const confirmDelete = window.confirm(\"Es-tu s√ªr de vouloir supprimer ce produit ?\");\r\n    if (!confirmDelete) return;\r\n  \r\n    try {\r\n      console.log(\"üóëÔ∏è Suppression en cours de l'ID :\", id);\r\n  \r\n      const res = await fetch(`http://localhost:5000/api/products/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n  \r\n      const data = await res.json();\r\n      console.log(\"R√©ponse du serveur :\", data);\r\n  \r\n      if (res.ok) {\r\n        setProducts(products.filter((product) => product._id !== id));\r\n      } else {\r\n        console.error(\"Erreur lors de la suppression :\", data);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Erreur serveur :\", err);\r\n    }\r\n  };\r\n  \r\n  \r\n\r\n  return (\r\n    <div>\r\n      <h2>‚ùå Supprimer un produit</h2>\r\n      {products.length === 0 ? <p>Aucun produit disponible.</p> : (\r\n        <ul>\r\n        {products.map((product) => {\r\n          const imagePath = `http://localhost:5000/uploads/${product.image}`;\r\n          console.log(\"Chemin de l'image :\", imagePath);\r\n      \r\n          return (\r\n            <li key={product._id}>\r\n              <img\r\n                src={imagePath}\r\n                alt={product.name}\r\n                style={{ width: \"80px\", height: \"80px\", objectFit: \"cover\" }}\r\n              />\r\n              {product.name} - {product.price}‚Ç¨\r\n              <button onClick={() => handleDelete(product._id)}>Supprimer</button>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n      \r\n      )}\r\n    </div>\r\n  );\r\n};\r\nconst handleFavorite = async (id) => {\r\n  try {\r\n    const res = await fetch(`http://localhost:5000/api/products/${id}/favorite`, {\r\n      method: \"PUT\",\r\n    });\r\n    const data = await res.json();\r\n\r\n    if (res.ok) {\r\n      setProducts(products.map(p => \r\n        p._id === id ? { ...p, isFavorite: !p.isFavorite } : p\r\n      ));\r\n    } else {\r\n      console.error(\"Erreur favori :\", data);\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Erreur serveur :\", err);\r\n  }\r\n};\r\n\r\nexport default DeleteProduct;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}